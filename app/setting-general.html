<script type="text/javascript" src="setting-general.js"></script>
<div class="container">
	<div class="page-header">
		<div class="pull-right">
			<button class="btn btn-success" id="save" style="width: 120px">儲存設定</button>
			<button class="btn btn-warning" id="reload" style="width: 120px">重新讀取</button>
			<button class="btn btn-danger" id="reset" style="width: 120px">還原預設值</button>
		</div>
		<h2>一般設定</h2>
	</div>

	<div><!-- googleMapsAPIKey -->
		<label for="googleMapsAPIKey" class="control-label">Google Maps API Key</label>
		<button class="btn btn-default btn-xs" type="button" data-toggle="modal" data-target="#gMapHelp">
			申請說明
		</button>
		<input type="text" class="form-control" id="googleMapsAPIKey" placeholder="請將 API Key 貼入此欄位" onClick="this.select();">
		<span id="helpBlock" class="help-block">
			用來使用 Google 的地理編碼服務（座標轉地址）和 Google Maps API，設定後每日可使用 2500 次地理編碼與 25000 次讀取地圖
		</span>
		<!-- Modal -->
		<div class="modal fade" id="gMapHelp" tabindex="-1" role="dialog" aria-labelledby="gMapHelpLabel">
			<div class="modal-dialog" role="document">
				<div class="modal-content">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal" aria-label="Close">
							<span aria-hidden="true">&times;</span>
						</button>
        				<h4 class="modal-title" id="gMapHelpLabel">Google Maps API Key 申請說明</h4>
					</div>
					<div class="modal-body">
						<ol>
							<li>前往 <a onClick="openLink('https://console.developers.google.com/');">Google APIs</a></li>
							<li>若第一次使用，需同意遵守服務條款，並把彈出的新手教學按一按</li>
							<li>在左邊 API 管理員選單中選擇「憑證」<br>
								<img src="assets/tutorial/map-api-1.png" alt="">
							</li>
							<li>若從未建立過專案會直接跳出視窗請按下「建立專案」。若已有專案可使用上方專案選單來建立專案或直接「建立憑證」<br>
								<img src="assets/tutorial/map-api-2.png" alt="">
							</li>
							<li>填入你想要的專案名稱、選擇是否接收電子郵件、是否同意條款，完成後按下「建立」<br>
								<img src="assets/tutorial/map-api-3.png" alt="">
							</li>
							<li>等他轉完圈圈，出現 API 憑證視窗，按下「建立憑證」下拉選單，選擇「API 金鑰」<br>
								<img src="assets/tutorial/map-api-4.png" alt="">
							</li>
							<li>待彈出「已建立 API 金鑰」視窗後，將您的 API 金鑰複製起來，貼到本欄位中<br>
								<img src="assets/tutorial/map-api-5.png" alt="">
							</li>
						</ol>
					</div>
					<div class="modal-footer">
						<button type="button" class="btn btn-default" data-dismiss="modal">關閉</button>
					</div>
				</div>
			</div>
		</div>
	</div>
	<br>
	<div><!-- telegramBotToken -->
		<label for="telegramBotToken" class="control-label">Telegram Bot Token</label>
		<button class="btn btn-default btn-xs" type="button" data-toggle="modal" data-target="#botTokenHelp">
			申請說明
		</button>
		<input type="text" class="form-control" id="telegramBotToken" placeholder="請將 Token 貼入此欄位" onClick="this.select();">
		<span id="helpBlock" class="help-block">
			在 Telegram 中找 <a onClick="openLink('https://telegram.me/BotFather');">@BotFather</a> 建立機器人並取得 Bot Token，讓程式能使用擁有該 Token 的 Telegram Bot 傳送訊息
		</span>
		<!-- Modal -->
		<div class="modal fade" id="botTokenHelp" tabindex="-1" role="dialog" aria-labelledby="botTokenHelpLabel">
			<div class="modal-dialog" role="document">
				<div class="modal-content">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal" aria-label="Close">
							<span aria-hidden="true">&times;</span>
						</button>
        				<h4 class="modal-title" id="botTokenHelpLabel">Telegram Bot 建立說明</h4>
					</div>
					<div class="modal-body">
						<ol>
							<li>在 Telegram 中搜尋 <a onClick="openLink('https://telegram.me/BotFather');">@BotFather</a>，點他一下即可開啟對話<br>
								<img src="assets/tutorial/bot-token-1.png" alt="">
							</li>
							<li>按下底部的 Start<br>
								<img src="assets/tutorial/bot-token-2.png" alt="">
							</li>
							<li>BotFather 會自動顯示說明，按下說明中的 /newbot，或直接輸入 /newbot 傳送訊息<br>
								<img src="assets/tutorial/bot-token-3.png" alt="">
							</li>
							<li>BotFather 會說 Alright, a new bot. How are we going to call it?... 這時輸入機器人名稱並傳送訊息<br>
								<img src="assets/tutorial/bot-token-4.png" alt="">
							</li>
							<li>名稱設定好後，BotFather 會說 Good. Now let's choose a username... 這時要輸入機器人的使用者名稱，須為英文、符號僅能使用底線並且以 bot 做結尾，例如 TetrisBot 或 tetris_bot，輸入完後送出訊息<br>
								<img src="assets/tutorial/bot-token-5.png" alt="">
							</li>
							<li>若成功會出現 Done! 開頭的訊息，並且在訊息中可以找到 token，將 token 複製並貼到本欄位中。若未出現 Done! 與 token 表示 Bot 使用者名稱重複或名稱未符合規範需再重新輸入<br>
								<img src="assets/tutorial/bot-token-6.png" alt="">
							</li>
							<li>另外別忘了將你的機器人啟動，按下成功訊息中的連結（telegram.me/你的Bot使用者名稱）可開啟與機器人的對話，按下對話底部的 Start 即可啟動<br>
								<img src="assets/tutorial/bot-token-7.png" alt="">
								<img src="assets/tutorial/bot-token-8.png" alt="">
							</li>
						</ol>
					</div>
					<div class="modal-footer">
						<button type="button" class="btn btn-default" data-dismiss="modal">關閉</button>
					</div>
				</div>
			</div>
		</div>
	</div>
	<br>
	<div><!-- sendVenue -->
		<label for="sendVenue" class="control-label"><input id="sendVenue" type="checkbox">精簡通知</label>
		<button class="btn btn-default btn-xs" type="button" data-toggle="modal" data-target="#sendVenueDemo">
			範例
		</button>
		<span id="helpBlock" class="help-block">
			啟動精簡通知時，把 Pokemon 資訊與位置合併為單一訊息（sendVenue）
		</span>
		<!-- Modal -->
		<div class="modal fade" id="sendVenueDemo" tabindex="-1" role="dialog" aria-labelledby="sendVenueDemoLabel">
			<div class="modal-dialog" role="document">
				<div class="modal-content">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal" aria-label="Close">
							<span aria-hidden="true">&times;</span>
						</button>
        				<h4 class="modal-title" id="sendVenueDemoLabel">精簡通知範例</h4>
					</div>
					<div class="modal-body">
						<h5>精簡通知</h5>

						<h5>一般通知</h5>

					</div>
					<div class="modal-footer">
						<button type="button" class="btn btn-default" data-dismiss="modal">關閉</button>
					</div>
				</div>
			</div>
		</div>
	</div>
	<br>
	<div><!-- showDistance -->
		<label for="showDistance" class="control-label"><input id="showDistance" type="checkbox">顯示距離</label>
		<button class="btn btn-default btn-xs" type="button" data-toggle="modal" data-target="#showDistanceDemo">
			範例
		</button>
		<span id="helpBlock" class="help-block">
			是否在通知中顯示距離
		</span>
		<!-- Modal -->
		<div class="modal fade" id="showDistanceDemo" tabindex="-1" role="dialog" aria-labelledby="showDistanceDemoLabel">
			<div class="modal-dialog" role="document">
				<div class="modal-content">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal" aria-label="Close">
							<span aria-hidden="true">&times;</span>
						</button>
        				<h4 class="modal-title" id="showDistanceDemoLabel">顯示距離範例</h4>
					</div>
					<div class="modal-body">
						<h5>顯示距離</h5>

						<h5>不顯示距離</h5>

					</div>
					<div class="modal-footer">
						<button type="button" class="btn btn-default" data-dismiss="modal">關閉</button>
					</div>
				</div>
			</div>
		</div>
	</div>
	<br>
	<div><!-- distanceLocation -->
		<label for="useDistanceLocation" class="control-label"><input class="showDistanceSubOption" id="useDistanceLocation" type="checkbox" disabled>以所在位置計算距離</label>
		<div class="form-inline form-group">
			<button class="btn btn-primary showDistanceSubOption disabled" type="button" data-toggle="modal" data-target="#selectLocation">
				選擇位置
			</button>
			<label for="distanceLocation.latitude">緯度</label>
			<input type="number" class="form-control showDistanceSubOption" id="distanceLocation.latitude" placeholder="" onClick="this.select();" disabled>
			<label for="distanceLocation.longitude">經度</label>
			<input type="number" class="form-control showDistanceSubOption" id="distanceLocation.longitude" placeholder="" onClick="this.select();" disabled>
		</div>
		<span id="helpBlock" class="help-block">
			若勾選此項目，將用此座標來計算顯示於 Pokemon 通知中的距離，否則將自動使用巡邏中心來計算距離（若無巡邏中心且未設定此項目則不顯示）
		</span>
		<!-- Modal -->
		<div class="modal fade" id="selectLocation" tabindex="-1" role="dialog" aria-labelledby="selectLocationLabel">
			<div class="modal-dialog" role="document">
				<div class="modal-content">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal" aria-label="Close">
							<span aria-hidden="true">&times;</span>
						</button>
        				<h4 class="modal-title" id="selectLocationLabel">選擇所在位置</h4>
					</div>
					<div class="modal-body">
					</div>
					<div class="modal-footer">
						<button type="button" class="btn btn-primary" data-dismiss="modal">選擇</button>
						<button type="button" class="btn btn-default" data-dismiss="modal">關閉</button>
					</div>
				</div>
			</div>
		</div>
	</div>
	<br>
	<div><!-- enableCommand -->
		<label for="enableCommand" class="control-label"><input id="enableCommand" type="checkbox">允許接收指令</label>
		<span id="helpBlock" class="help-block">
			允許 Telegram 機器人接收聊天指令以控制本程式，例如 /run /stop /getmap...等
		</span>
	</div>
	<br>
	<div><!-- admins -->
		<label for="admin-input" class="control-label">管理員 Telegram 使用者名稱</label><br>
		<p id="admins"></p>
		<div class="form-inline form-group">
			<input type="text" class="form-control" id="admin-input"/>
			<button id="add-admin" class="btn btn-primary" type="button" data-toggle="modal">
				加入
			</button>
		</div>
		<span id="helpBlock" class="help-block">
			輸入完畢後請按下加入 Enter 或加入。可輸入多個管理員
		</span>
	</div>
	<br>
	<div><!-- channels -->
		<label for="channel-input" class="control-label">接收通知的頻道ID</label><br>
		<p id="channels"></p>
		<div class="form-inline form-group">
			<input type="text" class="form-control" id="channel-input"/>
			<button id="add-channel" class="btn btn-primary" type="button" data-toggle="modal">
				加入
			</button>
		</div>
		<span id="helpBlock" class="help-block">
			輸入完畢後請按下 Enter 或加入。可輸入多個頻道ID
		</span>
	</div>
	<br>
	<div><!-- requestDelay -->
		<label for="requestDelay" class="control-label">請求延遲（豪秒）</label>
		<input type="number" class="form-control" id="requestDelay" placeholder="5000" min="5000" onClick="this.select();">
		<span id="helpBlock" class="help-block">
			每次與伺服器請求之間要間格多久（巡邏間格），最少為 5000 豪秒
		</span>
	</div>
	<br>
	<div><!-- pokemon_name -->
		<label for="pokemon_name" class="control-label">Pokemon 顯示名稱</label><br>
		<span id="helpBlock" class="help-block">
			有一隻編號 131、藍藍的、背上有殼可以載人游泳的水/冰系 Pokemon，你喜歡怎麼稱呼他？
		</span>
		<label class="radio-inline">
			<input type="radio" name="pokemon_name" id="pokemonName1" value="0"> 拉普拉斯（新中譯）
		</label>
		<label class="radio-inline">
			<input type="radio" name="pokemon_name" id="pokemonName2" value="1"> 乘龍（舊台譯）
		</label>
		<label class="radio-inline">
			<input type="radio" name="pokemon_name" id="pokemonName3" value="2"> 背背龍（舊港譯）
		</label>
		<label class="radio-inline">
			<input type="radio" name="pokemon_name" id="pokemonName4" value="3"> ラプラス（日文）
		</label>
		<label class="radio-inline">
			<input type="radio" name="pokemon_name" id="pokemonName5" value="4"> Lapras（英文）
		</label>
	</div>
	<br>
	<div><!-- pokemon_list -->
		<label for="pokemon_list" class="control-label">Pokemon 設定</label><br>
		<div id="pokemon_list" class="text-center"></div>
	</div>
</div>